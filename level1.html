<!DOCTYPE html>
<html>
  <head>
    <meta name="apple-mobile-web-app-capable" content="yes">

    <script src="js/aframe.min.js"></script>

    <!-- a-frame and community plugins--> 
        <script src="js/aframe-gui.min.js"></script>
        <script src="js/aframe-look-at-component.min.js"></script>
        <script src="js/aframe-extras.min.js"></script>

    <!-- Use components defined in separate files. -->
    <script src="js/play-on-vrdisplayactivate-or-enter-vr.js"></script>
    <script src="js/scene1-onclick.js"></script>
    <script src="js/show-btn-when-vid-ended.js"></script>
    <script src="js/error-message.js"></script>
    
  </head>

  <body>
    <a-scene>

      <!-- Asset management system. -->
      <a-assets>


        <!-- Change video perpective here -->
        <a-mixin id="scene-rotation" rotation="0 -70 0"></a-mixin>

             

        <!-- video assets -->
                <video 
                    id="video1"
                    style="display:none"
                    autoplay
                    muted
                    preload="auto"
                    crossorigin="anonymous"
                    playsinline webkit-playsinline play-on-vrdisplayactivate-or-enter-vr>

                    <source type="video/mp4" src="video/scene_onePerson.mp4"/>
                </video>

                 <video
                   id="video2"
                   style="display:none"
                   preload="auto"
                   muted
                   crossorigin="anonymous"
                   playsinline webkit-playsinline>
                   <source type="video/mp4" src="video/scene_onePersonAction.mp4"/>
                 </video>

                 <video 
                    id="video3"
                    style="display:none"
                      muted
                    preload="auto"
                    crossorigin="anonymous"

                    <source type="video/mp4" src="video/scene_manyPeople.mp4"/>
                </video>

                 <video
                   id="video4"
                   style="display:none"
                   preload="auto"
                   muted
                   crossorigin="anonymous"
                   playsinline webkit-playsinline>
                   <source type="video/mp4" src="video/scene_manyPeopleAction.mp4"/>
                 </video>

             

      </a-assets>


      <!-- GUI items here..
      https://github.com/rdub80/aframe-gui/blob/master/README.md 
      Readme to understand futher!!! -->
  
      
      <!-- scenes -->
      <a-entity id="scenes" handle-vid-controls>

        <!-- scene 1 -->
        <a-videosphere
        visible="true"
        id="videosphere1"
        src="#video1" 
        mixin="scene-rotation"
        autoplay = "true"
        show-btn-when-vid-ended="target: #first-1"
        play-on-vrdisplayactivate-or-enter-vr>
        </a-videosphere>
        <!-- scene 2 -->
        <a-videosphere
        visible="false"
        id="videosphere2"
        src="#video2" 
        mixin="scene-rotation"
        show-btn-when-vid-ended="target: #second-1"
        >
        </a-videosphere>

        <a-videosphere
        visible="false"
        id="videosphere3"
        src="#video3" 
        mixin="scene-rotation"
        show-btn-when-vid-ended="target: #third-1">
        </a-videosphere>
        <!-- scene 2 -->
        <a-videosphere
        visible="false"
        id="videosphere4"
        src="#video4" 
        mixin="scene-rotation"
        show-btn-when-vid-ended="target: #fourth-1"
        >
        </a-videosphere>

      </a-entity>

      <a-gui-flex-container id="helper1-1" visible="false"
      flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" opacity="0" width="2.5" height="2.5"
      position="2 4.2 -4" rotation="0 0 0" panel-color="red"
      >

      <!-- Helper label -->
        <a-gui-label 
        width="5" height="0.75"
        value="Always keep left to avoid collision"
        font-family="Arial"
        margin="0 0 0.05 0"
        background-color = "#ff0000"
        >
        </a-gui-label>

      </a-gui-flex-container>

      <a-gui-flex-container id="helper2-1" visible="false"
      flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" opacity="0" width="2.5" height="2.5"
      position="2 4.2 -4" rotation="0 0 0" panel-color="red"
      >

      <!-- Helper label -->
        <a-gui-label 
        width="6" height="0.75"
        value="The maximum speed is only 15KM/H!"
        font-family="Arial"
        margin="0 0 0.05 0"
        background-color = "#ff0000"
        >
        </a-gui-label>

      </a-gui-flex-container>

      <a-gui-flex-container id="helper3-1" visible="false"
      flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" opacity="0" width="2.5" height="2.5"
      position="0 0 -7" rotation="0 0 0" panel-color="red"
      >

      <!-- Helper label -->
        <a-gui-label 
        width="6" height="0.75"
        value="Dismount when it is crowded"
        font-family="Arial"
        margin="0 0 0.05 0"
        background-color = "#ff0000"
        >
        </a-gui-label>

      </a-gui-flex-container>

<!-- Question For Should i keep left or keep right -->
      <a-gui-flex-container id="first-1" visible="false"
      flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" opacity="0" width="3.5" height="4.5"
      position="1000 1000 1000" rotation="0 0 0"
      >
        
      
        <!-- Question label!! -->
        <a-gui-label 
        width="5" height="0.75"
        text = "wrapCount:100"
        value="Should i Keep Left or Keep Right?"
        font-family="Arial"
        margin="0 0 0.05 0"
        >
        </a-gui-label>
         
        <!-- Button to display error -->
        <a-gui-button 
        width="2.5" height="0.75"
        key-code="32"
        value="Left"
        font-family="Arial"
        margin="0 0 0.05 0"
        scene1-1
        >
        </a-gui-button>

        <!-- Button to link to next scene -->
        <a-gui-button 
        id="wrong1-1"
        width="2.5" height="0.75"
        key-code="32"
        value="Right"
        font-family="Arial"
        margin="0 0 0.05 0"
        error-message
        >
        </a-gui-button>
      </a-gui-flex-container>

      <!-- Question For how fast should you go -->
      <a-gui-flex-container id="second-1" visible="false"
      flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" opacity="0" width="3.5" height="4.5"
      position="1000 1000 1000" rotation="0 0 0"
      >
      <a-gui-label 
        width="5" height="0.75"
        text = "wrapCount:100"
        value="How fast can you go on the footpath?"
        font-family="Arial"
        margin="0 0 0.05 0"
        >
        </a-gui-label>

       <a-gui-button 
        width="3.5" height="0.75"
        key-code="32"
        value="15KM/H"
        font-family="Arial"
        margin="0 0 0.05 0"
        scene1-2>
        </a-gui-button>

        <!-- Button to link to next scene -->
        <a-gui-button 
        id="wrong1-2"
        width="3.5" height="0.75"
        key-code="32"
        value="25KM/H"
        font-family="Arial"
        margin="0 0 0.05 0"
        error-message 
        >
        </a-gui-button>
      </a-gui-flex-container>

      <a-gui-flex-container id="third-1" visible="false"
      flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" opacity="0" width="3.5" height="4.5"
      position="1000 1000 1000" rotation="0 3 0"
      >
        <!-- Question label!! -->
        <a-gui-label 
        width="5" height="0.75"
        text = "wrapCount:100"
        value="Should you dismount and overtake?"
        font-family="Arial"
        margin="0 0 0.05 0"
        >
        </a-gui-label>
        <!-- Button to link to next scene -->

        <a-gui-button 
        width="2.5" height="0.75"
        key-code="32"
        value="Yes"
        font-family="Arial"
        margin="0 0 0.05 0"
        scene1-3
        >
        </a-gui-button>
        <!-- Button to display error -->

        <a-gui-button 
        id="wrong1-3"
        width="2.5" height="0.75"
        key-code="32"
        value="No"
        font-family="Arial"
        margin="0 0 0.05 0"
        error-message
        >
        </a-gui-button>
      </a-gui-flex-container>

      <!-- Question For how fast should you go -->
      <a-gui-flex-container id="fourth-1" visible="false"
      flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" opacity="0" width="3.5" height="4.5"
      position="1000 1000 1000" rotation="0 0 0"
      >
      <a-gui-button 
        width="6" height="0.75"
        key-code="32"
        value="Click to see learning objectives for the stage!"
        font-family="Arial"
        margin="0 0 0.05 0"
        onclick="window.location.href='levelup3.html'"
        >
        </a-gui-button>

      </a-gui-flex-container>

      
      <!-- Camera + cursor. -->
      <a-entity id="cameraRig" camera position="0 1.6 0">
        <a-camera look-controls position="0 0 0">
          <a-gui-cursor id="cursor"
          raycaster="objects: [gui-interactable]"
          fuse="true" fuse-timeout="1500"
          design="cross"
          >
          </a-gui-cursor> <!-- /cursor -->
        </a-camera> <!-- /camera -->
      </a-entity>

    </a-scene>

  </body>
</html>
